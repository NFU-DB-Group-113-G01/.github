# ğŸ‘‹ Group G01
## ğŸ‘¥ Members æˆå“¡
| Student ID å­¸è™Ÿ | Name å§“å | Hobby èˆˆè¶£ |
|------------|---------------|---------------|
| 41143236 | é™³å½¥ç¦ | codingã€å‹•æ¼« |
| 41143241 | é»ƒå­å³» | |
| 41143245 | æ¥Šç¥å®‡ | |
| 41143259 | ç¾…æ–‡éµ | çœ‹å‹•æ¼«ã€coding |

# ğŸ¨ [é£¯åº—ç®¡ç†ç³»çµ±](#-link)
## ğŸ”¸ æ‡‰ç”¨æƒ…å¢ƒ

### ä½å®¿ç®¡ç†ç³»çµ±

| ä½¿ç”¨è€…     | ä½¿ç”¨æ¡ˆä¾‹èªªæ˜ |
|------------|---------------|
| å‰å°äººå“¡   | æŸ¥è©¢å³æ™‚æˆ¿æ³ï¼ˆç©ºæˆ¿ã€å·²é è¨‚ã€ç¶­ä¿®ä¸­ï¼‰ï¼Œä»¥å›æ‡‰å®¢æˆ¶æŸ¥è©¢ |
| å®¢æˆ¶       | ç·šä¸Šé è¨‚æˆ¿é–“ï¼Œé¸æ“‡æ—¥æœŸèˆ‡æˆ¿å‹ä¸¦å®Œæˆä»˜æ¬¾ |
| å®¢å‹™äººå“¡   | ç™»è¨˜å®¢æˆ¶å…¥ä½ï¼Œåˆ†é…æˆ¿è™Ÿä¸¦è£½ä½œæˆ¿å¡ |
| æˆ¿å‹™äººå“¡   | æŸ¥çœ‹ä»Šæ—¥é€€æˆ¿æˆ¿é–“ï¼Œæ›´æ–°æˆ¿é–“æ¸…æ½”ç‹€æ…‹ç‚ºã€Œå¾…æ¸…æ½”ã€ã€ã€Œæ¸…æ½”ä¸­ã€ã€ã€Œå·²å®Œæˆã€ |
| ç¶­ä¿®äººå“¡   | æ¥æ”¶å ±ä¿®é€šçŸ¥ï¼ˆå¦‚ï¼šå†·æ°£å£æ‰ï¼‰ï¼Œä¸¦åœ¨ç¶­ä¿®å®Œæˆå¾Œæ›´æ–°ç‹€æ…‹ |
| ç®¡ç†è€…     | æŸ¥çœ‹æ¯æ—¥å…¥ä½ç‡ã€å¹³å‡æˆ¿åƒ¹ï¼ˆADRï¼‰ã€æ”¶ç›Šå ±è¡¨ï¼ˆRevPARï¼‰ |

### é¤å»³ç®¡ç†ç³»çµ±

| ä½¿ç”¨è€…     | ä½¿ç”¨æ¡ˆä¾‹èªªæ˜ |
|------------|---------------|
| å®¢äºº | é€é App æˆ–æ«ƒå°é è¨‚åˆé¤æˆ–æ™šé¤æ™‚æ®µ |
| é¤å»³æ¥å¾… | æŸ¥çœ‹æ¯æ—¥é ç´„ç”¨é¤äººæ•¸ï¼Œå®‰æ’åº§ä½èˆ‡æ’ç­ |
| å»šæˆ¿äººå“¡ | æŸ¥çœ‹ç•¶æ—¥å„æ™‚æ®µé»é¤å…§å®¹èˆ‡ç¸½é«”ç”¨é‡ï¼ˆä¾›é¤é ä¼°ï¼‰ |
| åº«ç®¡äººå“¡ | æ ¹æ“šæ¯æ—¥é¤é»æ¶ˆè€—ï¼Œè‡ªå‹•æ›´æ–°é£Ÿæåº«å­˜ä¸¦æé†’è£œè²¨ |
| æ´»å‹•éƒ¨é–€ | ç™»è¨˜å®´æœƒç”¨é¤éœ€æ±‚ï¼ˆå ´åœ°ã€æ¡Œæ•¸ã€èœå–®ã€æ™‚é–“ï¼‰ |
| ç®¡ç†è€… | åˆ†æç†±é–€èœè‰²ã€æ¯æ—¥ä¾›é¤äººæ•¸ã€æ¯›åˆ©èˆ‡æˆæœ¬æ¯”ä¾‹å ±è¡¨ |

## ç³»çµ±éœ€æ±‚èªªæ˜

### ä½å®¿ç®¡ç†ç³»çµ±

1. å®¢æˆ¿è³‡æ–™ç®¡ç†
    - å»ºç«‹èˆ‡ç®¡ç†æˆ¿å‹ã€æ¨“å±¤ã€åƒ¹æ ¼ã€è¨­å‚™ç­‰è³‡è¨Š

2. æˆ¿æ³å³æ™‚æŸ¥è©¢
    - å‰å°å¯æŸ¥è©¢ç›®å‰æ‰€æœ‰æˆ¿é–“ç‹€æ…‹ï¼ˆç©ºæˆ¿ã€é è¨‚ã€å…¥ä½ã€æ¸…æ½”ã€ç¶­ä¿®ï¼‰

3. ç·šä¸Šé è¨‚ç®¡ç†
    - æä¾›å‰å°æˆ–å®¢æˆ¶é è¨‚æˆ¿é–“ä¹‹åŠŸèƒ½ï¼Œå¯é¸æ—¥æœŸèˆ‡æˆ¿å‹

4. å…¥ä½/é€€æˆ¿æµç¨‹
    - è¨˜éŒ„å®¢äººå…¥ä½è³‡æ–™ï¼Œè¾¦ç†å…¥ä½èˆ‡é€€æˆ¿ä½œæ¥­ï¼Œè‡ªå‹•æ›´æ–°æˆ¿æ³

5. æ¸…æ½”ç‹€æ…‹ç®¡ç†
    - æˆ¿å‹™äººå“¡å¯æ¨™è¨˜æˆ¿é–“ç‹€æ…‹ç‚ºå¾…æ¸…æ½”ã€æ¸…æ½”ä¸­ã€å®Œæˆæ¸…æ½”

6. ç¶­ä¿®ç”³è«‹èˆ‡è¿½è¹¤
    - å‰å°æˆ–æˆ¿å‹™å¯é€šå ±è¨­å‚™ç•°å¸¸ï¼Œç¶­ä¿®äººå“¡å¯æ¥å–®èˆ‡å›å ±å®Œæˆ
      
7. å ±è¡¨è¼¸å‡º
    - ç”¢å‡ºå…¥ä½ç‡ã€æˆ¿é–“ä½¿ç”¨çµ±è¨ˆã€ç¶­ä¿®æ¸…æ½”ç´€éŒ„å ±è¡¨ï¼ˆæ¯æ—¥ã€æ¯æœˆï¼‰
      
### é¤å»³ç®¡ç†ç³»çµ±

1. èœå–®ç®¡ç†
    - å¯è¨­å®šå„é¤åˆ¥(æ—©é¤ã€åˆé¤ã€æ™šé¤ã€å®´æœƒ)èœå–®å…§å®¹èˆ‡åƒ¹æ ¼

2. é¤é»è¨‚å–®èˆ‡å‡ºèœ
    - å»šæˆ¿å¯æ ¹æ“šè¨‚å–®è£½ä½œé¤é»ä¸¦åˆ—å‡ºå‡ºé¤æ˜ç´°

3. é¤é£²å ±è¡¨
    - å‡ºé¤çµ±è¨ˆã€ç†±é–€èœè‰²æ’è¡Œã€é£Ÿæä½¿ç”¨èˆ‡æˆæœ¬å ±è¡¨

## å®Œæ•´æ€§é™åˆ¶
1. ROOM.RoomStatus
   - é™å®šå€¼å¦‚ï¼šç©ºæˆ¿ã€å·²é è¨‚ã€ç¶­ä¿®ä¸­

2. CheckOutDate > CheckInDate
   - é€€æˆ¿æ—¥å¿…é ˆæ™šæ–¼å…¥ä½æ—¥

3. RoomIDã€CustomerID
   - int æ¯å€‹æˆ¿é–“èˆ‡å®¢æˆ¶æœ‰å”¯ä¸€è­˜åˆ¥ç·¨è™Ÿ

4. Emailã€Phone
   - éœ€ç¬¦åˆå°æ‡‰çš„ Email  æˆ–æ˜¯ é›»è©±è™Ÿç¢¼ æ ¼å¼

5. BasePriceã€FinalPrice
   - decimal(10,2) æœ€å¤§å€¼ 99999999.99 æ‡‰ç‚ºæ­£æ•´æ•¸

6. Nameã€RoomType
   - å­—å…ƒé•·åº¦ä¸Šé™ï¼ˆä¾‹: varchar(50)ï¼‰

## ER Diagram
### åœ–ç‰‡ï¼ˆé»æ“Šåœ–ç‰‡ğŸ–¼ï¸ä¸¦æ­é…å»ºç›¤CtrlâŒ¨ï¸èˆ‡æ»‘é¼ æ»¾è¼ªğŸ–±ï¸å¯æ”¾å¤§æª¢è¦–åœ–ç‰‡ğŸ”ï¼‰
![ER Diagram](https://github.com/user-attachments/assets/8832f638-0d00-46dd-b787-3cc9ed9f9bc1)

## SQL Schema
```SQL
-- ==================================================
-- æ ¸å¿ƒå¯¦é«” (åŸºæ–¼ ER åœ–)
-- ==================================================

-- é¤å»³è¡¨ (ä¾æ“š ERD æ–°å¢)
CREATE TABLE Restaurant (
    RestaurantID INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(100) NOT NULL,             -- é¤å»³åç¨±
    -- DayOfWeek, OpenTime, CloseTime è‹¥è¤‡é›œï¼Œå¯èƒ½éœ€è¦ç¨ç«‹çš„ç‡Ÿæ¥­æ™‚é–“è¡¨
    -- æ ¹æ“š ERD å±¬æ€§ç°¡åŒ–:
    DayOfWeek VARCHAR(50),                  -- ä¾‹å¦‚: 'é€±ä¸€è‡³é€±äº”', 'é€±æœ«', 'æ¯æ—¥'
    OpenTime TIME,                          -- é–‹æ”¾æ™‚é–“
    CloseTime TIME,                         -- é—œé–‰æ™‚é–“
    CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP -- å»ºç«‹æ™‚é–“
);

-- å“¡å·¥è¡¨ (åŸ Staff è¡¨)
CREATE TABLE Employee (
    EmployeeID INT AUTO_INCREMENT PRIMARY KEY,
    RestaurantID INT NULL,                  -- å¤–éµï¼Œå“¡å·¥æ‰€å±¬é¤å»³ (è‹¥ç‚ºä¸­å¤®äººå“¡å¯ç‚º NULL)
    Username VARCHAR(50) NOT NULL UNIQUE,   -- ç™»å…¥å¸³è™Ÿ (ERD å±¬æ€§æœªé¡¯ç¤ºï¼Œç‚ºç™»å…¥åŠŸèƒ½æ·»åŠ )
    PasswordHash VARCHAR(255) NOT NULL,     -- å¯†ç¢¼é›œæ¹Š (ç‚ºç™»å…¥åŠŸèƒ½æ·»åŠ )
    Name VARCHAR(100) NOT NULL,             -- å§“å (ä¾†è‡ª ERD)
    Position VARCHAR(50),                   -- è·ä½ (ä¾†è‡ª ERD)
    Department VARCHAR(50),                 -- éƒ¨é–€ (ä¾†è‡ª ERD)
    HireDate DATE,                          -- åˆ°è·æ—¥æœŸ (ä¾†è‡ª ERD)
    Phone VARCHAR(20),                      -- é›»è©± (ä¾†è‡ª ERD)
    IsActive BOOLEAN DEFAULT TRUE,          -- æ˜¯å¦åœ¨è· (ä¾†è‡ª ERD)
    CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- å»ºç«‹æ™‚é–“
    FOREIGN KEY (RestaurantID) REFERENCES Restaurant(RestaurantID) -- é—œè¯åˆ°é¤å»³è¡¨
);

-- é¡§å®¢è¡¨
CREATE TABLE Customer (
    CustomerID INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(100) NOT NULL,             -- å§“å (ä¾†è‡ª ERD, æ•´åˆå§“æ°åå­—)
    Phone VARCHAR(20) UNIQUE,               -- é›»è©± (ä¾†è‡ª ERD)
    Email VARCHAR(100) UNIQUE,              -- é›»å­éƒµä»¶ (ä¾†è‡ª ERD)
    CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP -- å»ºç«‹æ™‚é–“
);

-- æˆ¿å‹è¡¨ (ä¾æ“š ERD ä¿®æ”¹)
CREATE TABLE RoomType (
    RoomTypeID INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(50) NOT NULL UNIQUE,       -- æˆ¿å‹åç¨± (ä¾†è‡ª ERD)
    BedCount INT CHECK (BedCount > 0),      -- åºŠä½æ•¸ (ä¾†è‡ª ERD)
    Description TEXT NULL,                  -- æè¿° (ERD å±¬æ€§æœªé¡¯ç¤ºï¼Œä¿ç•™å½ˆæ€§)
    CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP -- å»ºç«‹æ™‚é–“
);

-- æˆ¿é–“è¡¨ (ä¾æ“š ERD ä¿®æ”¹)
CREATE TABLE Room (
    RoomID INT AUTO_INCREMENT PRIMARY KEY,
    RoomNumber VARCHAR(10) NOT NULL UNIQUE, -- æˆ¿è™Ÿ (ä¾†è‡ª ERD)
    RoomTypeID INT NOT NULL,                -- æˆ¿å‹å¤–éµ (ä¾†è‡ª ERD)
    RoomStatus VARCHAR(20) NOT NULL DEFAULT 'Available', -- æˆ¿é–“ç‹€æ…‹ (ä¾†è‡ª ERD, å»ºè­°ç”¨ ENUM ç´„æŸ: 'Available', 'Occupied', 'Booked', 'Cleaning', 'Maintenance', 'OutOfOrder')
    BasePrice DECIMAL(10, 2) NOT NULL CHECK (BasePrice >= 0), -- åŸºæœ¬åƒ¹æ ¼ (ä¾†è‡ª ERD)
    Floor INT NULL,                         -- æ¨“å±¤ (ERD å±¬æ€§æœªé¡¯ç¤ºï¼Œä¿ç•™å½ˆæ€§)
    FOREIGN KEY (RoomTypeID) REFERENCES RoomType(RoomTypeID) -- é—œè¯åˆ°æˆ¿å‹è¡¨
);

-- å­£ç¯€è¡¨ (ä¾æ“š ERD æ–°å¢)
CREATE TABLE Season (
    SeasonID INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(50) NOT NULL UNIQUE,       -- å­£ç¯€åç¨± (ä¾†è‡ª ERD, ä¾‹å¦‚: 'æ—ºå­£', 'æ·¡å­£', 'å‡æ—¥')
    StartDate DATE NOT NULL,                -- é–‹å§‹æ—¥æœŸ (ä¾†è‡ª ERD)
    EndDate DATE NOT NULL,                  -- çµæŸæ—¥æœŸ (ä¾†è‡ª ERD)
    PriceAdjustmentPercent DECIMAL(5, 2) DEFAULT 0.00, -- åƒ¹æ ¼èª¿æ•´ç™¾åˆ†æ¯” (ä¾†è‡ª ERD, ä¾‹å¦‚: 20.00 ä»£è¡¨ +20%, -10.00 ä»£è¡¨ -10%)
    CONSTRAINT chk_season_dates CHECK (EndDate > StartDate) -- æª¢æŸ¥çµæŸæ—¥æœŸéœ€æ™šæ–¼é–‹å§‹æ—¥æœŸ
);

-- æˆ¿é–“å­£ç¯€åƒ¹æ ¼è¡¨ (ä¾æ“š ERD æ–°å¢)
-- é€£æ¥ RoomType å’Œ Season ä»¥å®šç¾©ç‰¹å®šæœŸé–“çš„åƒ¹æ ¼
CREATE TABLE RoomSeasonRate (
    RoomTypeID INT NOT NULL,
    SeasonID INT NOT NULL,
    AdjustedPrice DECIMAL(10, 2) NOT NULL CHECK (AdjustedPrice >= 0), -- èª¿æ•´å¾Œåƒ¹æ ¼ (ä¾†è‡ª ERD, æ­¤åƒ¹æ ¼é©ç”¨æ–¼æ­¤æˆ¿å‹åœ¨æ­¤å­£ç¯€æœŸé–“)
    PRIMARY KEY (RoomTypeID, SeasonID),     -- è¤‡åˆä¸»éµ
    FOREIGN KEY (RoomTypeID) REFERENCES RoomType(RoomTypeID) ON DELETE CASCADE, -- é—œè¯åˆ°æˆ¿å‹è¡¨
    FOREIGN KEY (SeasonID) REFERENCES Season(SeasonID) ON DELETE CASCADE       -- é—œè¯åˆ°å­£ç¯€è¡¨
);

-- é¤é£²æ–¹æ¡ˆè¡¨ (ä¾æ“š ERD æ–°å¢)
CREATE TABLE MealPlan (
    MealPlanID INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(100) NOT NULL UNIQUE,      -- æ–¹æ¡ˆåç¨± (ä¾†è‡ª ERD, ä¾‹å¦‚: 'åƒ…ä½æˆ¿', 'å«æ—©é¤', 'åŠé£Ÿå®¿')
    ExtraCharge DECIMAL(10, 2) NOT NULL DEFAULT 0.00 -- é¡å¤–è²»ç”¨ (ä¾†è‡ª ERD, æ­¤æ–¹æ¡ˆçš„é™„åŠ è²»ç”¨ï¼Œå¯èƒ½æ˜¯æ¯å¤©æˆ–æ¯æ¬¡ä½å®¿)
);

-- èœå–®é …ç›®è¡¨ (ä¾æ“š ERD ä¿®æ”¹)
CREATE TABLE MenuItem (
    MenuItemID INT AUTO_INCREMENT PRIMARY KEY,
    RestaurantID INT NOT NULL,              -- æ‰€å±¬é¤å»³å¤–éµ (ä¾†è‡ª ERD)
    Name VARCHAR(100) NOT NULL,             -- é …ç›®åç¨± (ä¾†è‡ª ERD)
    Category VARCHAR(50),                   -- åˆ†é¡ (ä¾†è‡ª ERD)
    Price DECIMAL(10, 2) NOT NULL CHECK (Price >= 0), -- åƒ¹æ ¼ (ä¾†è‡ª ERD)
    IsAvailable BOOLEAN DEFAULT TRUE,       -- æ˜¯å¦ä¾›æ‡‰ (ERD æœªé¡¯ç¤ºï¼Œä½†å¯¦å‹™ä¸Šå¸¸ç”¨)
    FOREIGN KEY (RestaurantID) REFERENCES Restaurant(RestaurantID) -- é—œè¯åˆ°é¤å»³è¡¨
);

-- é¤é£²æ–¹æ¡ˆèœå–®è¡¨ (ä¾æ“š ERD æ–°å¢)
-- ä½œç‚º MealPlan å’Œ MenuItem ä¹‹é–“çš„å¤šå°å¤šé—œè¯è¡¨
CREATE TABLE MealPlanMenu (
    MealPlanMenuID INT AUTO_INCREMENT PRIMARY KEY, -- ä»£ç†ä¸»éµ (å¦‚ ERD æ‰€ç¤º)
    MealPlanID INT NOT NULL,
    MenuItemID INT NOT NULL,
    -- å¯è€ƒæ…®å¢åŠ ä»½æ•¸æˆ–é¤é»é¡å‹ (å¦‚å‰èœ/ä¸»èœ) æ¬„ä½
    UNIQUE (MealPlanID, MenuItemID),        -- ç¢ºä¿åŒä¸€é …ç›®ä¸è¢«é‡è¤‡åŠ å…¥åŒä¸€æ–¹æ¡ˆ
    FOREIGN KEY (MealPlanID) REFERENCES MealPlan(MealPlanID) ON DELETE CASCADE, -- é—œè¯åˆ°é¤é£²æ–¹æ¡ˆè¡¨
    FOREIGN KEY (MenuItemID) REFERENCES MenuItem(MenuItemID) ON DELETE CASCADE  -- é—œè¯åˆ°èœå–®é …ç›®è¡¨
);

-- é è¨‚è¡¨ (ä¾æ“š ERD ä¿®æ”¹)
CREATE TABLE Booking (
    BookingID INT AUTO_INCREMENT PRIMARY KEY,
    CustomerID INT NOT NULL,                -- é¡§å®¢å¤–éµ (ä¾†è‡ª ERD)
    RoomID INT NOT NULL,                    -- æˆ¿é–“å¤–éµ (ä¾†è‡ª ERD)
    EmployeeID INT NULL,                    -- è™•ç†å“¡å·¥å¤–éµ ('Handled by' é—œä¿‚, ç·šä¸Šé è¨‚å¯ç‚º NULL)
    MealPlanID INT NULL,                    -- é¤é£²æ–¹æ¡ˆå¤–éµ (ä¾†è‡ª ERD, å¯é¸)
    CheckInDate DATE NOT NULL,              -- å…¥ä½æ—¥æœŸ (ä¾†è‡ª ERD)
    CheckOutDate DATE NOT NULL,             -- é€€æˆ¿æ—¥æœŸ (ä¾†è‡ª ERD)
    FinalPrice DECIMAL(10, 2) NOT NULL CHECK (FinalPrice >= 0), -- æœ€çµ‚åƒ¹æ ¼ (ä¾†è‡ª ERD, æ ¹æ“šæˆ¿å‹ã€å­£ç¯€ã€æ–¹æ¡ˆç­‰è¨ˆç®—å¾—å‡º)
    BookingStatus VARCHAR(20) NOT NULL DEFAULT 'Confirmed', -- é è¨‚ç‹€æ…‹ (ERD æœªé¡¯ç¤ºï¼Œä½†å¯¦å‹™ä¸Šå¿…è¦ï¼Œä¾‹å¦‚: 'Confirmed', 'CheckedIn', 'CheckedOut', 'Cancelled')
    BookingTime TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- é è¨‚æ™‚é–“ (ERD æœªé¡¯ç¤ºï¼Œä¿ç•™ç”¨æ–¼è¿½è¹¤)
    FOREIGN KEY (CustomerID) REFERENCES Customer(CustomerID), -- é—œè¯åˆ°é¡§å®¢è¡¨
    FOREIGN KEY (RoomID) REFERENCES Room(RoomID),          -- é—œè¯åˆ°æˆ¿é–“è¡¨
    FOREIGN KEY (EmployeeID) REFERENCES Employee(EmployeeID), -- é—œè¯åˆ°å“¡å·¥è¡¨
    FOREIGN KEY (MealPlanID) REFERENCES MealPlan(MealPlanID), -- é—œè¯åˆ°é¤é£²æ–¹æ¡ˆè¡¨
    CONSTRAINT chk_booking_dates CHECK (CheckOutDate > CheckInDate) -- æª¢æŸ¥é€€æˆ¿æ—¥éœ€æ™šæ–¼å…¥ä½æ—¥
);

-- ==================================================
-- è¼”åŠ©/æ—¥èªŒè¨˜éŒ„è¡¨ (ç”±éœ€æ±‚æˆ–é—œä¿‚æ¨æ–·)
-- é€™äº›è¡¨å¯èƒ½å°æ–¼å®Œæ•´åŠŸèƒ½æ˜¯å¿…è¦çš„ï¼Œä½†åœ¨æä¾›çš„ ER åœ–ä¸­æœªæ˜ç¢ºä½œç‚ºç¨ç«‹å¯¦é«”ç¹ªè£½
-- ==================================================

-- æ¸…æ½”æ—¥èªŒè¡¨ (ç”± 'Clean' é—œä¿‚æ¨æ–·)
CREATE TABLE CleaningLog (
    LogID INT AUTO_INCREMENT PRIMARY KEY,
    RoomID INT NOT NULL,                    -- æˆ¿é–“å¤–éµ
    EmployeeID INT NULL,                    -- æ¸…æ½”äººå“¡å¤–éµ
    Status VARCHAR(20) NOT NULL DEFAULT 'Pending', -- ç‹€æ…‹ (ä¾‹å¦‚: 'Pending', 'InProgress', 'Completed')
    RequestedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- è¦æ±‚æ¸…æ½”æ™‚é–“
    CompletedAt TIMESTAMP NULL,             -- å®Œæˆæ¸…æ½”æ™‚é–“
    Notes TEXT,                             -- å‚™è¨»
    FOREIGN KEY (RoomID) REFERENCES Room(RoomID), -- é—œè¯åˆ°æˆ¿é–“è¡¨
    FOREIGN KEY (EmployeeID) REFERENCES Employee(EmployeeID) -- é—œè¯åˆ°å“¡å·¥è¡¨
);

-- ç¶­ä¿®æ—¥èªŒè¡¨ (ç”± RoomStatus='Maintenance' æ¨æ–·)
CREATE TABLE MaintenanceLog (
    LogID INT AUTO_INCREMENT PRIMARY KEY,
    RoomID INT NOT NULL,                    -- æˆ¿é–“å¤–éµ
    ReportedByEmployeeID INT NULL,          -- å›å ±äººå“¡å¤–éµ
    AssignedToEmployeeID INT NULL,          -- ç¶­ä¿®äººå“¡å¤–éµ
    IssueDescription TEXT NOT NULL,         -- å•é¡Œæè¿°
    Status VARCHAR(20) NOT NULL DEFAULT 'Reported', -- ç‹€æ…‹ (ä¾‹å¦‚: 'Reported', 'InProgress', 'Completed')
    ReportedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- å›å ±æ™‚é–“
    CompletedAt TIMESTAMP NULL,             -- å®Œæˆæ™‚é–“
    Notes TEXT,                             -- å‚™è¨»
    FOREIGN KEY (RoomID) REFERENCES Room(RoomID), -- é—œè¯åˆ°æˆ¿é–“è¡¨
    FOREIGN KEY (ReportedByEmployeeID) REFERENCES Employee(EmployeeID), -- é—œè¯åˆ°å›å ±å“¡å·¥
    FOREIGN KEY (AssignedToEmployeeID) REFERENCES Employee(EmployeeID) -- é—œè¯åˆ°ç¶­ä¿®å“¡å·¥
);

-- ==================================================
-- é¤å»³éŠ·å”®é» (POS) ç›¸é—œè¡¨ (ERD æœªåŒ…å«ï¼Œä½†é¤å»³æ¨¡çµ„å¯èƒ½éœ€è¦)
-- ==================================================

-- é¤å»³è¨‚å–®è¡¨ (ç”¨æ–¼ç¨ç«‹çš„é¤å»³é»é¤)
CREATE TABLE RestaurantOrder (
    OrderID INT AUTO_INCREMENT PRIMARY KEY,
    RestaurantID INT NOT NULL,              -- ç™¼ç”Ÿè¨‚å–®çš„é¤å»³å¤–éµ
    CustomerID INT NULL,                    -- é¡§å®¢å¤–éµ (å¦‚æœæ˜¯ä½å®¢)
    BookingID INT NULL,                     -- é è¨‚å¤–éµ (å¦‚æœæ›æˆ¿å¸³)
    TableNumber VARCHAR(10),                -- æ¡Œè™Ÿ
    OrderTime TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- ä¸‹å–®æ™‚é–“
    TotalAmount DECIMAL(10, 2) DEFAULT 0.00, -- ç¸½é‡‘é¡
    OrderStatus VARCHAR(20) NOT NULL DEFAULT 'Pending', -- è¨‚å–®ç‹€æ…‹ (ä¾‹å¦‚: 'Pending', 'Preparing', 'Served', 'Paid')
    EmployeeID INT NULL,                    -- é»é¤/æœå‹™å“¡å·¥å¤–éµ
    PaymentMethod VARCHAR(50),              -- ä»˜æ¬¾æ–¹å¼
    PaymentTime TIMESTAMP NULL,             -- ä»˜æ¬¾æ™‚é–“
    FOREIGN KEY (RestaurantID) REFERENCES Restaurant(RestaurantID), -- é—œè¯åˆ°é¤å»³è¡¨
    FOREIGN KEY (CustomerID) REFERENCES Customer(CustomerID),       -- é—œè¯åˆ°é¡§å®¢è¡¨
    FOREIGN KEY (BookingID) REFERENCES Booking(BookingID),          -- é—œè¯åˆ°é è¨‚è¡¨
    FOREIGN KEY (EmployeeID) REFERENCES Employee(EmployeeID)        -- é—œè¯åˆ°å“¡å·¥è¡¨
);

-- é¤å»³è¨‚å–®æ˜ç´°è¡¨ (è¨˜éŒ„è¨‚å–®ä¸­çš„æ¯å€‹é …ç›®)
CREATE TABLE RestaurantOrderItem (
    OrderItemID INT AUTO_INCREMENT PRIMARY KEY,
    OrderID INT NOT NULL,                   -- è¨‚å–®ä¸»æª”å¤–éµ
    MenuItemID INT NOT NULL,                -- èœå–®é …ç›®å¤–éµ
    Quantity INT NOT NULL CHECK (Quantity > 0), -- æ•¸é‡
    UnitPrice DECIMAL(10, 2) NOT NULL,      -- ä¸‹å–®æ™‚çš„å–®åƒ¹
    ItemStatus VARCHAR(20) NOT NULL DEFAULT 'Ordered', -- é …ç›®ç‹€æ…‹ (ä¾‹å¦‚: 'Ordered', 'Preparing', 'Served')
    Notes TEXT,                             -- ç‰¹æ®Šè¦æ±‚ (ä¾‹å¦‚: 'å»å†°', 'ä¸åŠ æ´‹è”¥')
    FOREIGN KEY (OrderID) REFERENCES RestaurantOrder(OrderID) ON DELETE CASCADE, -- é—œè¯åˆ°è¨‚å–®ä¸»æª” (ä¸»æª”åˆªé™¤æ™‚æ˜ç´°ä¹Ÿåˆªé™¤)
    FOREIGN KEY (MenuItemID) REFERENCES MenuItem(MenuItemID)     -- é—œè¯åˆ°èœå–®é …ç›®è¡¨
);
```

## SQL ç¯„ä¾‹è³‡æ–™
```SQL
-- æ–°å¢ä¸€å®¶é¤å»³
INSERT INTO Restaurant (Name, DayOfWeek, OpenTime, CloseTime) VALUES
('é›²è‹‘å»³', 'æ¯æ—¥', '07:00:00', '22:00:00');

-- æ–°å¢å“¡å·¥ (å‡è¨­ RestaurantID 1 å­˜åœ¨)
INSERT INTO Employee (RestaurantID, Username, PasswordHash, Name, Position, Department, HireDate, Phone, IsActive) VALUES
(1, 'manager01', 'é›œæ¹Šå¾Œçš„å¯†ç¢¼1', 'ç¾…æ–‡éµ', 'é¤å»³ç¶“ç†', 'é¤é£²éƒ¨', '2023-08-01', '0912000111', TRUE),
(NULL, 'frontdesk01', 'é›œæ¹Šå¾Œçš„å¯†ç¢¼2', 'é™³å½¥ç¦', 'å‰å°æ¥å¾…å“¡', 'å®¢æˆ¿éƒ¨', '2024-01-15', '0911111111', TRUE);

-- æ–°å¢æˆ¿å‹
INSERT INTO RoomType (Name, BedCount, Description) VALUES
('æ¨™æº–å¤§åºŠæˆ¿', 1, 'èˆ’é©çš„æˆ¿é–“ï¼Œé…å‚™ä¸€å¼µç‰¹å¤§é›™äººåºŠ'),
('è±ªè¯é›™åºŠæˆ¿', 2, 'å¯¬æ•çš„æˆ¿é–“ï¼Œé…å‚™å…©å¼µå–®äººåºŠï¼Œäº«å¸‚æ™¯');

-- æ–°å¢æˆ¿é–“ (å‡è¨­ RoomTypeIDs 1 å’Œ 2 å­˜åœ¨)
INSERT INTO Room (RoomNumber, RoomTypeID, RoomStatus, BasePrice, Floor) VALUES
('101', 1, 'Available', 2500.00, 1),
('205', 2, 'Available', 3800.00, 2);

-- æ–°å¢å­£ç¯€
INSERT INTO Season (Name, StartDate, EndDate, PriceAdjustmentPercent) VALUES
('æ—ºå­£', '2025-06-01', '2025-08-31', 15.00), -- +15%
('æ·¡å­£', '2025-09-01', '2025-11-30', -10.00); -- -10%

-- æ–°å¢æˆ¿é–“å­£ç¯€åƒ¹æ ¼ (å‡è¨­ RoomTypeIDs 1, 2 å’Œ SeasonIDs 1, 2 å­˜åœ¨)
INSERT INTO RoomSeasonRate (RoomTypeID, SeasonID, AdjustedPrice) VALUES
(1, 1, 2875.00), -- æ¨™æº–å¤§åºŠæˆ¿æ–¼æ—ºå­£åƒ¹æ ¼ (2500 * 1.15)
(1, 2, 2250.00), -- æ¨™æº–å¤§åºŠæˆ¿æ–¼æ·¡å­£åƒ¹æ ¼ (2500 * 0.90)
(2, 1, 4370.00), -- è±ªè¯é›™åºŠæˆ¿æ–¼æ—ºå­£åƒ¹æ ¼ (3800 * 1.15)
(2, 2, 3420.00); -- è±ªè¯é›™åºŠæˆ¿æ–¼æ·¡å­£åƒ¹æ ¼ (3800 * 0.90)

-- æ–°å¢é¤é£²æ–¹æ¡ˆ
INSERT INTO MealPlan (Name, ExtraCharge) VALUES
('åƒ…ä½æˆ¿', 0.00),
('è‡ªåŠ©æ—©é¤', 350.00);

-- æ–°å¢èœå–®é …ç›® (å‡è¨­ RestaurantID 1 å­˜åœ¨)
INSERT INTO MenuItem (RestaurantID, Name, Category, Price, IsAvailable) VALUES
(1, 'æŸ³æ©™æ±', 'é£²å“', 80.00, TRUE),
(1, 'å¯é ŒéºµåŒ…', 'çƒ˜ç„™åŠ', 60.00, TRUE),
(1, 'ç¾å¼ç‚’è›‹', 'æ—©é¤ç†±é£Ÿ', 150.00, TRUE);

-- å°‡èœå–®é …ç›®é€£çµåˆ°é¤é£²æ–¹æ¡ˆ (å‡è¨­ MealPlanID 2 = è‡ªåŠ©æ—©é¤, MenuItemIDs 1,2,3 å­˜åœ¨)
INSERT INTO MealPlanMenu (MealPlanID, MenuItemID) VALUES
(2, 1), -- æŸ³æ©™æ± åŒ…å«åœ¨ è‡ªåŠ©æ—©é¤ æ–¹æ¡ˆ
(2, 2), -- å¯é ŒéºµåŒ… åŒ…å«åœ¨ è‡ªåŠ©æ—©é¤ æ–¹æ¡ˆ
(2, 3); -- ç¾å¼ç‚’è›‹ åŒ…å«åœ¨ è‡ªåŠ©æ—©é¤ æ–¹æ¡ˆ

-- æ–°å¢é¡§å®¢
INSERT INTO Customer (Name, Phone, Email) VALUES
('æ¥Šç¥å®‡', '0912345678', 'yuyu.yang@email.com');

-- æ–°å¢é è¨‚ (å‡è¨­ CustomerID 1, RoomID 2 (è±ªè¯é›™åºŠæˆ¿), EmployeeID 2 (å‰å°), MealPlanID 2 (æ—©é¤) å­˜åœ¨)
-- é è¨‚æœŸé–“ç‚ºæ—ºå­£ (6æœˆ10-12æ—¥)ï¼Œåƒ¹æ ¼æ‡‰åæ˜  RoomSeasonRate + MealPlan è²»ç”¨
-- é€™è£¡éœ€è¦æ‡‰ç”¨ç¨‹å¼é‚è¼¯è¨ˆç®— FinalPriceã€‚å‡è¨­è¨ˆç®—çµæœå¦‚ä¸‹ï¼š
-- èª¿æ•´å¾Œæˆ¿åƒ¹ = 4370.00ã€‚é¤é£²æ–¹æ¡ˆ = 350.00/æ™šã€‚å…± 2 æ™šã€‚ç¸½åƒ¹ = (4370.00 + 350.00) * 2 = 9440.00
INSERT INTO Booking (CustomerID, RoomID, EmployeeID, MealPlanID, CheckInDate, CheckOutDate, FinalPrice, BookingStatus) VALUES
(1, 2, 2, 2, '2025-06-10', '2025-06-12', 9440.00, 'Confirmed');
```

## å¾…è¾¦äº‹é …
 - [x] æ–°å¢æˆå“¡
 - [x] é¡Œç›®
 - [x] æ‡‰ç”¨æƒ…å¢ƒèˆ‡ä½¿ç”¨æ¡ˆä¾‹
 - [x] ç³»çµ±éœ€æ±‚èªªæ˜
 - [x] å®Œæ•´æ€§é™åˆ¶
 - [x] ER DiagramåŠè©³ç´°èªªæ˜
 - [x] è³‡æ–™åº«Schema


## ğŸ”— Link
- [ç°¡å ±](https://www.canva.com/design/DAGj9Gu7cDI/K8RuwSeM_7NDCD4SlW22tg/view?utm_content=DAGj9Gu7cDI&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h9883e3e557)
